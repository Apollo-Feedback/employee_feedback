<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barddhaman Apollo Hospital Employee Feedback Form</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #6a82fb, #fc5c7d);
            margin: 0;
            padding: 0;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        body.loaded {
            opacity: 1;
        }
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 30px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .container:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
        }
        h1, h2 {
            text-align: center;
            color: #333;
        }
        img.logo {
            display: block;
            margin: 0 auto 20px;
            max-width: 100%;
            height: auto;
        }
        .form-group {
            margin-bottom: 20px;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            background: #e7f1ff;
            transition: background 0.3s;
        }
        .form-group:hover {
            background: #d0e7ff;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #28a745;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        .form-group input:focus, .form-group select:focus {
            border-color: #007bff;
            outline: none;
        }
        .checkbox-group {
            margin: 10px 0;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 14px;
            background-color: #ff6f61;
            border: none;
            color: #ffffff;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        .submit-btn:hover {
            background-color: #e03e31;
            transform: translateY(-2px);
        }
        .error {
            color: red;
            display: none;
            margin-top: 10px;
        }
        .success-message {
            text-align: center;
            font-size: 24px;
            margin-top: 20px;
            display: none;
        }
        .loading {
            text-align: center;
            display: none;
        }
        @media (max-width: 600px) {
            .container {
                margin: 20px;
                padding: 15px;
            }
            h1, h2 {
                font-size: 24px;
            }
            .form-group {
                padding: 10px;
            }
            .form-group input, .form-group textarea, .form-group select {
                font-size: 14px;
                padding: 8px;
            }
            .submit-btn {
                padding: 16px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="https://assets.onecompiler.app/42rjhjuwn/42rjh5tu9/Add_a_heading__3_-removebg-preview.png" alt="Barddhaman Apollo Hospital Logo" class="logo">
        <h1>Employee Feedback Form</h1>
        <form id="feedbackForm">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                <div class="error" id="nameError">Please enter your name.</div>
            </div>
            <div class="form-group">
                <label for="department">Department:</label>
                <select id="department" name="department" required>
                    <option value="">Select Department</option>
                    <option value="General Male Ward">General Male Ward</option>
                    <option value="General Female Ward">General Female Ward</option>
                    <option value="ICU">ICU</option>
                    <option value="Emergency">Emergency</option>
                    <option value="Dialysis">Dialysis</option>
                    <option value="NICU">NICU</option>
                    <option value="OPD">OPD</option>
                    <option value="Medicine">Medicine</option>
                    <option value="Reception">Reception</option>
                    <option value="Floor">Floor</option>
                    <option value="Store">Store</option>
                    <option value="Diet">Diet</option>
                    <option value="TPA">TPA</option>
                    <option value="SwasthaSathi">SwasthaSathi</option>
                    <option value="Billing">Billing</option>
                    <option value="RMO">RMO</option>
                </select>
                <div class="error" id="departmentError">Please select your department.</div>
            </div>
            <div class="form-group">
                <label for="position">Position:</label>
                <select id="position" name="position" required>
                    <option value="">Select Position</option>
                </select>
                <div class="error" id="positionError">Please select your position.</div>
            </div>
            <div class="form-group">
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" required>
                <div class="error" id="dateError">Please select a date.</div>
            </div>

            <h2>1. Work Environment</h2>
            <div class="form-group">
                <label>How would you rate the overall work environment in your department?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="work_environment" value="Excellent" required> Excellent</label>
                    <label><input type="radio" name="work_environment" value="Good"> Good</label>
                    <label><input type="radio" name="work_environment" value="Fair"> Fair</label>
                    <label><input type="radio" name="work_environment" value="Poor"> Poor</label>
                </div>
                <div class="error" id="workEnvironmentError">Please select a rating.</div>
            </div>
            <div class="form-group">
                <label>Do you feel you have the necessary tools and resources to perform your job effectively?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="tools_resources" value="Yes" required> Yes</label>
                    <label><input type="radio" name="tools_resources" value="Partially"> Partially</label>
                    <label><input type="radio" name="tools_resources" value="No"> No</label>
                </div>
                <div class="error" id="toolsResourcesError">Please select an option.</div>
            </div>
            <div class="form-group">
                <label>Suggestions for improving the work environment:</label>
                <textarea name="work_environment_suggestions" rows="3"></textarea>
            </div>

            <h2>2. Job Satisfaction</h2>
            <div class="form-group">
                <label>How satisfied are you with your current role?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="job_satisfaction" value="Very Satisfied" required> Very Satisfied</label>
                    <label><input type="radio" name="job_satisfaction" value="Satisfied"> Satisfied</label>
                    <label><input type="radio" name="job_satisfaction" value="Neutral"> Neutral</label>
                    <label><input type="radio" name="job_satisfaction" value="Dissatisfied"> Dissatisfied</label>
                </div>
                <div class="error" id="jobSatisfactionError">Please select a rating.</div>
            </div>
            <div class="form-group">
                <label>What aspects of your job do you enjoy the most?</label>
                <textarea name="enjoy_aspects" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Are there any aspects of your job you find challenging or unfulfilling?</label>
                <textarea name="challenging_aspects" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Suggestions for enhancing your job satisfaction:</label>
                <textarea name="job_satisfaction_suggestions" rows="3"></textarea>
            </div>

            <h2>3. Communication and Management</h2>
            <div class="form-group">
                <label>How would you rate the communication between you and your manager/supervisor?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="communication_manager" value="Excellent" required> Excellent</label>
                    <label><input type="radio" name="communication_manager" value="Good"> Good</label>
                    <label><input type="radio" name="communication_manager" value="Fair"> Fair</label>
                    <label><input type="radio" name="communication_manager" value="Poor"> Poor</label>
                </div>
                <div class="error" id="communicationManagerError">Please select a rating.</div>
            </div>
            <div class="form-group">
                <label>Do you feel your opinions and ideas are valued by your manager/supervisor?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="opinions_valued" value="Yes" required> Yes</label>
                    <label><input type="radio" name="opinions_valued" value="Sometimes"> Sometimes</label>
                    <label><input type="radio" name="opinions_valued" value="No"> No</label>
                </div>
                <div class="error" id="opinionsValuedError">Please select an option.</div>
            </div>
            <div class="form-group">
                <label>Suggestions for improving communication and management:</label>
                <textarea name="communication_management_suggestions" rows="3"></textarea>
            </div>

            <h2>4. Professional Development</h2>
            <div class="form-group">
                <label>How satisfied are you with the opportunities for professional development?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="development_satisfaction" value="Very Satisfied" required> Very Satisfied</label>
                    <label><input type="radio" name="development_satisfaction" value="Satisfied"> Satisfied</label>
                    <label><input type="radio" name="development_satisfaction" value="Neutral"> Neutral</label>
                    <label><input type="radio" name="development_satisfaction" value="Dissatisfied"> Dissatisfied</label>
                </div>
                <div class="error" id="developmentSatisfactionError">Please select a rating.</div>
            </div>
            <div class="form-group">
                <label>Are you interested in further training?</label>
                <div class="checkbox-group">
                    <label><input type="radio" name="further_training" value="Yes" required> Yes</label>
                    <label><input type="radio" name="further_training" value="No"> No</label>
                </div>
                <div class="error" id="furtherTrainingError">Please select an option.</div>
            </div>
            <div class="form-group">
                <label>If yes, please specify the areas you are interested in:</label>
                <textarea name="training_areas" rows="3"></textarea>
            </div>

            <h2>5. Additional Feedback</h2>
            <div class="form-group">
                <label>Positive Feedback or Comments:</label>
                <textarea name="positive_feedback" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Suggestions for Improvement:</label>
                <textarea name="suggestions_for_improvement" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Do you have any additional comments or feedback?</label>
                <textarea name="additional_feedback" rows="4"></textarea>
            </div>

            <div class="loading" id="loading">Submitting your feedback...</div>
            <div class="success-message" id="successMessage">Thank you for your feedback!</div>
            <button type="submit" class="submit-btn">Submit Feedback</button>
        </form>
    </div>

    <script>
        // Fade in effect for the body
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
        });

        // Position dropdown population
        const positions = {
            "General Male Ward": ["Male Ward In-charge", "Nursing Staff", "Technician", "Attendant"],
            "General Female Ward": ["Female Ward In-charge", "Nursing Staff", "Technician", "Attendant"],
            "ICU": ["ICU In-charge", "Nursing Staff(ICU)", "Nursing Staff(BURN)", "Nursing Staff(ONCO)", "Technician"],
            "Emergency": ["Nursing Staff", "Paramedic", "Attendant"],
            "Dialysis": ["Nursing Staff", "Technician"],
            "NICU": ["Nursing Staff", "Technician"],
            "OPD": ["Nursing Staff", "OPD Attender"],
            "Medicine": ["Pharmacy In-charge", "Pharmacy Executive"],
            "Reception": ["Receptionist", "Admin Staff"],
            "Floor": ["Floor In-charge", "Floor Executive", "Support Staff"],
            "Store": ["Store In-charge", "Store Executive", "Assistant"],
            "Diet": ["Dietitian", "Nutritionist"],
            "TPA": ["TPA Manager", "Assistant"],
            "SwasthaSathi": ["Coordinator", "Support Staff"],
            "Billing": ["Billing Clerk", "Admin Staff"],
            "RMO": ["Resident Medical Officer", "Intern"]
        };

        document.getElementById('department').addEventListener('change', function() {
            const department = this.value;
            const positionDropdown = document.getElementById('position');
            positionDropdown.innerHTML = '<option value="">Select Position</option>';
            if (positions[department]) {
                positions[department].forEach(function(position) {
                    const option = document.createElement('option');
                    option.value = position;
                    option.textContent = position;
                    positionDropdown.appendChild(option);
                });
            }
        });

        document.getElementById('feedbackForm').addEventListener('submit', function(event) {
            event.preventDefault();

            // Show loading message
            document.getElementById('loading').style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';

            // Prepare data to send
            const formData = new FormData(this);

            // Send data to Google Apps Script
            fetch('https://script.google.com/macros/s/AKfycbxfgseIoGEiX3bheAZeDYiozPkkZhuNDK1bjF8PyAY2DINrYTHKVYyy6jA7Hfls8DearA/exec', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                console.log(data); // Log response for debugging
                document.getElementById('loading').style.display = 'none'; // Hide loading message
                document.getElementById('successMessage').style.display = 'block'; // Show success message
                document.getElementById('feedbackForm').reset(); // Reset the form
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('loading').style.display = 'none'; // Hide loading message
                alert('There was an error submitting your feedback. Please try again.');
            });
        });

        // Validation for required fields
        document.getElementById('feedbackForm').addEventListener('input', function() {
            const requiredFields = ['name', 'department', 'position', 'date', 'work_environment', 'tools_resources', 'job_satisfaction', 'enjoy_aspects','challenging_aspects', 'job_satisfaction_suggestions', 'communication_rating', 'opinions_valued', 'communication_management_suggestions', 'development_satisfaction', 'further_training', 'training_areas', 'positive_feedback', 'suggestions_for_improvement', 'additional_comments'];
            requiredFields.forEach(field => {
                const input = document.querySelector(`[name="${field}"]`);
                const error = document.getElementById(`${field}Error`);
                if (input && input.value === '') {
                    error.style.display = 'block';
                } else {
                    error.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
